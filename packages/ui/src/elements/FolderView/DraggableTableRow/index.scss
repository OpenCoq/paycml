@layer payload-default {
  .draggable-table-row {
    // vars
    --border-top-left-radius: var(--style-radius-m);
    --border-top-right-radius: var(--style-radius-m);
    --border-bottom-right-radius: var(--style-radius-m);
    --border-bottom-left-radius: var(--style-radius-m);
    --row-text-color: var(--theme-text);
    --row-icon-opacity: 1;
    --row-icon-color: var(--theme-elevation-300);
    --row-bg-color: transparent;
    --foreground-opacity: 0;
    --row-cursor: pointer;

    isolation: isolate;

    &:nth-child(odd) {
      --row-bg-color: var(--theme-elevation-50);
    }

    &--focused {
      &.simple-table__tr:nth-child(odd),
      &.simple-table__tr:nth-child(even) {
        --row-bg-color: var(--theme-elevation-100);
      }
    }

    &--disabled {
      --row-cursor: no-drop;
      --foreground-opacity: 0.6;
    }

    &--selected {
      --row-icon-color: var(--theme-success-800);
      --row-icon-opacity: 0.6;
      &.simple-table__tr:nth-child(odd),
      &.simple-table__tr:nth-child(even) {
        --row-bg-color: var(--theme-success-150);
      }
    }

    &--selected + .draggable-table-row--selected {
      --border-top-left-radius: 0;
      --border-top-right-radius: 0;
    }

    &--selected:not(:last-child):has(+ .draggable-table-row--selected) {
      --border-bottom-left-radius: 0;
      --border-bottom-right-radius: 0;
    }

    &--over {
      &.simple-table__tr:nth-child(odd),
      &.simple-table__tr:nth-child(even) {
        --row-bg-color: var(--theme-elevation-150);
      }
    }

    &__cell-content {
      position: relative;
      z-index: 1;
      color: var(--row-text-color);
    }

    &__drag-handle {
      position: absolute;
      top: 0;
      width: 100%;
      height: 100%;
      left: 0;
      right: 0;
      cursor: var(--row-cursor);
      background: none;
      border: none;
      padding: 0;
      outline-offset: 0;
      z-index: 2;

      &:focus-visible {
        box-shadow: inset 0px 0px 0px 2px var(--theme-text);
        outline: none;
      }
    }

    &__drop-area {
      position: absolute;
      top: 0;
      width: 100%;
      height: 100%;
      left: 0;
      right: 0;
    }

    .simple-table {
      &__hidden-cell {
        position: absolute;
        padding: 0;
        width: 100%;
        height: 100%;
        left: 0;
        right: 0;
      }
    }

    &.simple-table__tr {
      position: relative;
    }

    .draggable-table-row__row-foreground,
    .draggable-table-row__row-background {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-top-left-radius: var(--border-top-left-radius);
      border-top-right-radius: var(--border-top-right-radius);
      border-bottom-right-radius: var(--border-bottom-right-radius);
      border-bottom-left-radius: var(--border-bottom-left-radius);
    }
    .draggable-table-row__row-background {
      z-index: -1;
      background-color: var(--row-bg-color);
    }
    .draggable-table-row__row-foreground {
      opacity: var(--foreground-opacity);
      z-index: 1;
      background-color: var(--theme-bg);
    }

    .icon {
      color: var(--row-icon-color);
      opacity: var(--row-icon-opacity);
    }
  }
}
